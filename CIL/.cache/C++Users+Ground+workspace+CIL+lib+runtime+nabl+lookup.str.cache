Module("runtime/nabl/lookup",[Imports([Import("runtime/nabl/query"),Import("runtime/nabl/uri"),Import("runtime/nabl/collect"),Import("runtime/properties/query"),Import("runtime/task/core")]),Rules([RDefT("nabl-lookup",[],[DefaultVarDec("ns"),DefaultVarDec("name")],Rule(Var("uri"),Var(ListVar("def*")),[WithClause(Seq(Assign(Var("uri'"),App(CallT(SVar("nabl-extend-uri"),[],[Var("ns"),Var("name"),NoAnnoList(Op("NonUnique",[]))]),Var("uri"))),Assign(Var(ListVar("def*")),App(CallNoArgs(SVar("nabl-get-all-definitions")),Var("uri'")))))])),RDefT("nabl-lookup-all",[],[DefaultVarDec("ns")],Rule(Var("uri"),Var(ListVar("def*")),[WithClause(Assign(Var(ListVar("def*")),App(CallT(SVar("nabl-get-child-definitions"),[],[Var("ns")]),Var("uri"))))])),RDefT("nabl-lookup-named-import",[],[DefaultVarDec("ns"),DefaultVarDec("name")],Rule(Var("uri"),Var(ListVar("import*")),[WithClause(Seq(Assign(Var("language"),App(CallNoArgs(SVar("nabl-uri-language")),Var("uri"))),Assign(Var(ListVar("import*")),App(CallT(SVar("nabl-get-import-uris-named"),[],[Var("language"),Var("ns"),Var("name")]),Var("uri")))))]))]),Rules([RDefT("nabl-get-import-uris-named",[],[DefaultVarDec("language"),DefaultVarDec("namespace"),DefaultVarDec("name")],Rule(Var("uri"),Var(ListVar("importURI*")),[WithClause(Seq(Assign(Var(ListVar("importResult*")),App(CallT(SVar("get-index-properties"),[],[NoAnnoList(Op("Import",[Var("language"),Var("namespace"),Var("name")]))]),Var("uri"))),Assign(Var(ListVar("importURI*")),App(Seq(Call(SVar("map"),[LChoice(CallNoArgs(SVar("task-get-solved")),Seq(CallNoArgs(SVar("task-create-dependencies")),Build(NoAnnoList(List([RootApp(Id)])))))]),CallNoArgs(SVar("concat"))),Var(ListVar("importResult*"))))))]))])])