Module("runtime/nabl/entries",[Imports([Import("runtime/nabl/collect"),Import("runtime/nabl/utils"),Import("runtime/nabl/uri"),Import("runtime/nabl/resolve"),Import("runtime/index/core"),Import("runtime/editor/origins")]),Signature([Constructors([OpDecl("Def",FunType([ConstType(SortNoArgs("URI"))],ConstType(SortNoArgs("Entry")))),OpDecl("Alias",FunType([ConstType(SortNoArgs("URI")),ConstType(SortNoArgs("URI"))],ConstType(SortNoArgs("Entry")))),OpDecl("InverseAlias",FunType([ConstType(SortNoArgs("URI")),ConstType(SortNoArgs("URI"))],ConstType(SortNoArgs("Entry")))),OpDecl("Use",FunType([ConstType(SortNoArgs("Result"))],ConstType(SortNoArgs("Entry"))))])]),Rules([SDefNoArgs("nabl-diff-entry",Match(NoAnnoList(Op("Def",[Wld])))),SDefNoArgs("nabl-diff-entry",Match(NoAnnoList(Op("Alias",[Wld,Wld]))))]),Rules([RDefT("new-def",[],[DefaultVarDec("partition"),DefaultVarDec("uri")],Rule(Var("x"),Var("definition"),[WithClause(Seq(Assign(Var("definition"),App(Call(SVar("origin-track-forced"),[Build(NoAnnoList(Op("Def",[Var("uri")])))]),Var("x"))),Seq(BA(CallT(SVar("index-add"),[],[Var("partition")]),Var("definition")),BA(CallT(SVar("new-alias"),[],[Var("partition"),App(CallNoArgs(SVar("nabl-nonunique-uri")),Var("uri")),Var("uri")]),Var("x")))))])),RDefT("new-alias",[],[DefaultVarDec("partition"),DefaultVarDec("uri"),DefaultVarDec("alias-uri")],Rule(Var("x"),Var("alias"),[WithClause(Seq(Assign(Var("alias"),App(Call(SVar("origin-track-forced"),[Build(NoAnnoList(Op("Alias",[Var("uri"),Var("alias-uri")])))]),Var("x"))),Seq(Assign(Var("ialias"),App(Call(SVar("origin-track-forced"),[Build(NoAnnoList(Op("InverseAlias",[Var("alias-uri"),Var("uri")])))]),Var("x"))),IfThen(BA(Not(CallNoArgs(SVar("eq"))),NoAnnoList(Tuple([Var("uri"),Var("alias-uri")]))),Seq(BA(CallT(SVar("index-add"),[],[Var("partition")]),Var("alias")),BA(CallT(SVar("index-add"),[],[Var("partition")]),Var("ialias")))))))])),RDefT("new-use",[],[DefaultVarDec("partition"),DefaultVarDec("uri")],Rule(Var("x"),Var("use"),[WithClause(Seq(Assign(Var("use"),App(Call(SVar("origin-track-forced"),[Build(NoAnnoList(Op("Use",[Var("uri")])))]),Var("x"))),BA(CallT(SVar("index-add"),[],[Var("partition")]),Var("use"))))]))]),Rules([RDefNoArgs("nabl-uri",RuleNoCond(NoAnnoList(Op("Def",[Var("uri")])),Var("uri"))),RDefNoArgs("nabl-uris",RuleNoCond(NoAnnoList(Op("Def",[Var("uri")])),NoAnnoList(List([Var("uri")])))),RDefNoArgs("nabl-uri",RuleNoCond(NoAnnoList(Op("Alias",[Var("uri"),Wld])),Var("uri"))),RDefNoArgs("nabl-uris",RuleNoCond(NoAnnoList(Op("Alias",[Var("uri"),Wld])),NoAnnoList(List([Var("uri")])))),RDefNoArgs("nabl-uri",RuleNoCond(NoAnnoList(Op("InverseAlias",[Var("uri"),Wld])),Var("uri"))),RDefNoArgs("nabl-uris",RuleNoCond(NoAnnoList(Op("InverseAlias",[Var("uri"),Wld])),NoAnnoList(List([Var("uri")])))),RDefNoArgs("nabl-uri",RuleNoCond(NoAnnoList(Op("Use",[Var("uri")])),App(Seq(CallNoArgs(SVar("nabl-collect-one-resolved-def")),CallNoArgs(SVar("nabl-uri"))),Var("uri")))),RDefNoArgs("nabl-uris",RuleNoCond(NoAnnoList(Op("Use",[Var("uri")])),App(Seq(CallNoArgs(SVar("nabl-collect-all-resolved-defs")),Call(SVar("map"),[CallNoArgs(SVar("nabl-uri"))])),Var("uri")))),RDefNoArgs("nabl-value",RuleNoCond(NoAnnoList(Op("Def",[Var("value")])),Var("value"))),RDefNoArgs("nabl-values",RuleNoCond(NoAnnoList(Op("Def",[Var("value")])),NoAnnoList(List([Var("value")])))),RDefNoArgs("nabl-value",RuleNoCond(NoAnnoList(Op("Alias",[Wld,Var("value")])),Var("value"))),RDefNoArgs("nabl-values",RuleNoCond(NoAnnoList(Op("Alias",[Wld,Var("value")])),NoAnnoList(List([Var("value")])))),RDefNoArgs("nabl-value",RuleNoCond(NoAnnoList(Op("InverseAlias",[Wld,Var("value")])),Var("value"))),RDefNoArgs("nabl-values",RuleNoCond(NoAnnoList(Op("InverseAlias",[Wld,Var("value")])),NoAnnoList(List([Var("value")])))),RDefNoArgs("nabl-value",RuleNoCond(NoAnnoList(Op("Use",[Var("value")])),RootApp(CallNoArgs(SVar("nabl-uri"))))),RDefNoArgs("nabl-values",RuleNoCond(NoAnnoList(Op("Use",[Var("value")])),RootApp(CallNoArgs(SVar("nabl-uris")))))])])