Module("runtime/analysis/reanalysis",[Imports([Import("runtime/analysis/core"),Import("runtime/analysis/single"),Import("runtime/analysis/defaults"),Import("runtime/task/core"),Import("runtime/index/core"),Import("runtime/nabl/collect"),Import("runtime/nabl/namegen")]),Rules([SDefT("start-reanalysis",[],[DefaultVarDec("language"),DefaultVarDec("path"),DefaultVarDec("project-path")],Seq(CallT(SVar("nabl-namegen-clear"),[],[RootApp(CallT(SVar("analysis-partition"),[],[Var("path"),Var("project-path")]))]),Seq(CallNoArgs(SVar("index-push")),CallNoArgs(SVar("task-push"))))),SDefT("stop-reanalysis",[],[DefaultVarDec("language"),DefaultVarDec("path"),DefaultVarDec("project-path")],Seq(CallNoArgs(SVar("task-pop")),CallNoArgs(SVar("index-pop")))),SDefT("reanalysis",[DefaultVarDec("s")],[DefaultVarDec("language"),DefaultVarDec("path"),DefaultVarDec("project-path")],Where(Seq(CallT(SVar("start-reanalysis"),[],[Var("language"),Var("path"),Var("project-path")]),Seq(CallNoArgs(SVar("s")),CallT(SVar("stop-reanalysis"),[],[Var("language"),Var("path"),Var("project-path")]))))),RDefT("reanalyze-ast",[],[DefaultVarDec("language"),DefaultVarDec("path"),DefaultVarDec("project-path")],Rule(Var("ast"),Var("analyzed-ast"),[WithClause(Seq(Assign(NoAnnoList(Tuple([Var("analyzed-ast"),NoAnnoList(Tuple([Var(ListVar("error*")),Var(ListVar("warning*")),Var(ListVar("note*"))])),Var(ListVar("removed-entry*")),Var(ListVar("added-entry*")),Var(ListVar("removed-task*")),Var(ListVar("added-task*")),Var(ListVar("invalidated-task*")),Var(ListVar("evaluated-task*")),Var(ListVar("skipped-task*")),Var(ListVar("unevaluated-task*"))])),App(CallT(SVar("analyze-one"),[Fail],[Var("language"),Var("path"),Var("project-path")]),Var("ast"))),Seq(BA(CallNoArgs(SVar("analysis-debug-results")),NoAnnoList(Tuple([Var(ListVar("removed-entry*")),Var(ListVar("added-entry*")),Var(ListVar("removed-task*")),Var(ListVar("added-task*")),Var(ListVar("invalidated-task*")),Var(ListVar("evaluated-task*")),Var(ListVar("skipped-task*")),Var(ListVar("unevaluated-task*"))]))),Seq(BA(Call(SVar("map"),[Call(SVar("analysis-default-debug"),[Build(NoAnnoList(Str("\"Error: \"")))])]),Var(ListVar("error*"))),Seq(BA(Call(SVar("map"),[Call(SVar("analysis-default-debug"),[Build(NoAnnoList(Str("\"Warning: \"")))])]),Var(ListVar("warning*"))),BA(Call(SVar("map"),[Call(SVar("analysis-default-debug"),[Build(NoAnnoList(Str("\"Note: \"")))])]),Var(ListVar("note*"))))))))]))])])